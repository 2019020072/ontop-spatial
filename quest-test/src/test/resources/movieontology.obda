[PrefixDeclaration]
:		http://www.movieontology.org/2009/11/09/movieontology.owl#
dc:		http://purl.org/dc/elements/1.1/
mo:		http://www.movieontology.org/2009/10/01/movieontology.owl#
mo2:		http://www.movieontology.org/2009/11/09/movieontology.owl#
owl:		http://www.w3.org/2002/07/owl#
rdf:		http://www.w3.org/1999/02/22-rdf-syntax-ns#
www:		http://www.movieontology.org/2009/11/09/
xsd:		http://www.w3.org/2001/XMLSchema#
imdb:		http://www.imdb.com/
page:		http://dbpedia.org/page/
rdfs:		http://www.w3.org/2000/01/rdf-schema#
quest:		http://obda.org/quest#
dbpedia:		http://dbpedia.org/ontology/
owl2xml:		http://www.w3.org/2006/12/owl2-xml#

[SourceDeclaration]
sourceUri	imdb-obda
connectionUrl	jdbc:postgresql://10.7.20.39/imdbobda
username	postgres
password	postgres
driverClass	org.postgresql.Driver

[MappingDeclaration] @collection [[


mappingId	Label for Romance genre
target		imdb:genre/{title_id} a mo:Love . 
source		select movie_info.movie_id as title_id from movie_info where movie_info.info_type_id = 3 and movie_info.info='Romance'

mappingId	Label for Sci-Fi genre
target		imdb:genre/{title_id} a mo:SciFi_and_Fantasy .
source		select movie_info.movie_id as title_id from movie_info where movie_info.info_type_id = 3 and movie_info.info='Sci-Fi'

mappingId	Label for Short genre
target		imdb:genre/{title_id} a mo:Genre .
source		select movie_info.movie_id as title_id from movie_info where movie_info.info_type_id = 3 and movie_info.info='Short'

mappingId	Label for Sport genre
target		imdb:genre/{title_id} a mo:Entertaining_Information .
source		select movie_info.movie_id as title_id from movie_info where movie_info.info_type_id = 3 and movie_info.info='Sport'

mappingId	Label for Talk-Show genre
target		imdb:genre/{title_id} a mo:Info-TV .
source		select movie_info.movie_id as title_id from movie_info where movie_info.info_type_id = 3 and movie_info.info='Talk-Show'

mappingId	Label for Thriller genre
target		imdb:genre/{title_id} a mo:Sensible_Thrilling .
source		select movie_info.movie_id as title_id from movie_info where movie_info.info_type_id = 3 and movie_info.info='Thriller'

mappingId	Label for War genre
target		imdb:genre/{title_id} a mo:Brute_Action .
source		select movie_info.movie_id as title_id from movie_info where movie_info.info_type_id = 3 and movie_info.info='War'

mappingId	Label for Western genre
target		imdb:genre/{title_id} a mo:Old_Action .
source		select movie_info.movie_id as title_id from movie_info where movie_info.info_type_id = 3 and movie_info.info='Western'

mappingId	Movie has production Budget
target		imdb:title/{title_id} dbpedia:budget {budget}^^xsd:string .
source		select title.id as title_id, movie_info.info as budget, movie_info.info from title, movie_info where title.id = movie_info.movie_id and movie_info.info_type_id = 105

mappingId	Movie gets Gross revenue
target		imdb:title/{title_id} dbpedia:gross {gross}^^xsd:string .
source		select title.id as title_id, movie_info.info as gross from title, movie_info where title.id = movie_info.movie_id and movie_info.info_type_id = 107

mappingId	Movie has Actor
target		imdb:title/{movie_id} mo:hasMaleActor imdb:name/{person_id} .
source		select movie_id, person_id from cast_info where role_id = 1

mappingId	Movie has Actress
target		imdb:title/{movie_id} mo:hasActress imdb:name/{person_id} .
source		select movie_id, person_id from cast_info where role_id = 2

mappingId	Movie has Film Director
target		imdb:title/{movie_id} mo:hasDirector imdb:name/{person_id} .
source		select movie_id, person_id from cast_info where role_id = 8

mappingId	Movie has Editor
target		imdb:title/{movie_id} mo:hasEditor imdb:name/{person_id} .
source		select movie_id, person_id from cast_info where role_id = 9

mappingId	Movie has Producer
target		imdb:title/{movie_id} mo:hasProducer imdb:name/{person_id} .
source		select movie_id, person_id from cast_info where role_id = 3

mappingId	Movie has Production Company
target		imdb:title/{title_id} mo:isProducedBy imdb:company/{production_cid} .
source		select company_name.id as production_cid, movie_companies.movie_id as title_id from company_name, movie_companies where company_name.id = movie_companies.company_id and movie_companies.company_type_id = 2

mappingId	Production companies in any locations
target		imdb:company/{production_cid} mo2:hasCompanyLocation imdb:country/{production_cid} .
source		select company_name.id as production_cid from company_name, movie_companies where company_name.id = movie_companies.company_id and movie_companies.company_type_id = 2

mappingId	Companies in United States
target		imdb:country/{cid} a mo:Northern_America .
source		select company_name.id as cid from company_name where company_name.country_code = '[us]'

mappingId	Companies in Great Britain
target		imdb:country/{cid} a mo:Northern_Europe .
source		select company_name.id as cid from company_name where company_name.country_code = '[gb]'

mappingId	Companies in France
target		imdb:country/{cid} a mo:Western_Europe .
source		select company_name.id as cid from company_name where company_name.country_code = '[fr]'

mappingId	Companies in Germany
target		imdb:country/{cid} a mo:Western_Europe .
source		select company_name.id as cid from company_name where company_name.country_code = '[de]'

mappingId	Companies in Japan
target		imdb:country/{cid} a mo:Eastern_Asia .
source		select company_name.id as cid from company_name where company_name.country_code = '[jp]'

mappingId	Companies in Italy
target		imdb:country/{cid} a mo:Southern_Europe .
source		select company_name.id as cid from company_name where company_name.country_code = '[it]'

mappingId	Companies in Canada
target		imdb:country/{cid} a mo:Northern_America .
source		select company_name.id as cid from company_name where company_name.country_code = '[ca]'

mappingId	Companies in Spain
target		imdb:country/{cid} a mo:Southern_Europe .
source		select company_name.id as cid from company_name where company_name.country_code = '[es]'

mappingId	Companies in Mexico
target		imdb:country/{cid} a mo:Central_America .
source		select company_name.id as cid from company_name where company_name.country_code = '[mx]'

mappingId	Companies in Denmark
target		imdb:country/{cid} a mo:Northern_Europe .
source		select company_name.id as cid from company_name where company_name.country_code = '[dk]'

mappingId	Companies in Brazil
target		imdb:country/{cid} a mo:South_America .
source		select company_name.id as cid from company_name where company_name.country_code = '[br]'

mappingId	Companies in Australia
target		imdb:country/{cid} a mo:Australia_and_New_Zealand .
source		select company_name.id as cid from company_name where company_name.country_code = '[au]'

mappingId	Companies in Sweden
target		imdb:country/{cid} a mo:Northern_Europe .
source		select company_name.id as cid from company_name where company_name.country_code = '[se]'

mappingId	Companies in Belgium
target		imdb:country/{cid} a mo:Western_Europe .
source		select company_name.id as cid from company_name where company_name.country_code = '[be]'

mappingId	Companies in Philippines
target		imdb:country/{cid} a mo:Southeastern_Asia .
source		select company_name.id as cid from company_name where company_name.country_code = '[ph]'

mappingId	Companies in India
target		imdb:country/{cid} a mo:Southern_Asia .
source		select company_name.id as cid from company_name where company_name.country_code = '[in]'

mappingId	Companies in China
target		imdb:country/{cid} a mo:Eastern_Asia .
source		select company_name.id as cid from company_name where company_name.country_code = '[cn]'

mappingId	Company has name
target		imdb:company/{company_id} mo2:companyName {company_name} .
source		select company_name.id as company_id, company_name.name as company_name from company_name

mappingId	Movie has title and production year
target		imdb:title/{id} mo:title {title}; dbpedia:productionStartYear {production_year}^^xsd:integer .
source		select id, title, production_year from title

mappingId	Country has country code
target		imdb:country/{cid} mo2:countryCode {country_code} .
source		select company_name.id as cid, company_name.country_code as country_code from company_name
]]

