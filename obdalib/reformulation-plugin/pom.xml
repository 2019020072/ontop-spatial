<?xml version="1.0" encoding="UTF-8"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <artifactId>obdalib-parent</artifactId>
    <groupId>inf.unibz.it.obda</groupId>
    <version>1.0.3-SNAPSHOT</version>
  </parent>
  
  <groupId>inf.unibz.it.obda</groupId>
  <artifactId>reformulation-plugin</artifactId>
  <version>1.0.3-SNAPSHOT</version>
  <packaging>bundle</packaging>
  <name>reformulation-plugin</name>
  
  <dependencies>   
      

    	
		<dependency>
			<groupId>com.h2database</groupId>
			<artifactId>h2</artifactId>
			<version>1.2.138</version>
			<scope>runtime</scope>
		</dependency>
		
		<dependency>
			<groupId>postgresql</groupId>
			<artifactId>postgresql</artifactId>
			<version>8.4-701.jdbc4</version>
			<scope>runtime</scope>
		</dependency>
		      
    <dependency>
		<groupId>xsdlib</groupId>
		<artifactId>xsdlib</artifactId>
		<version>20030225</version>
	</dependency>
   <dependency>
		<groupId>inf.unibz.it.obda</groupId>
		<artifactId>obdalib-core</artifactId>
		<version>1.0.3-SNAPSHOT</version>
		<scope>provided</scope>
	</dependency>
	<dependency>
		<groupId>inf.unibz.it.obda</groupId>
		<artifactId>obdalib-owlapi</artifactId>
		<version>1.0.3-SNAPSHOT</version>
		<scope>provided</scope>
	</dependency>
	<dependency>
		<groupId>inf.unibz.it.obda</groupId>
		<artifactId>obdalib-protege4</artifactId>
		<version>1.0.3-SNAPSHOT</version>
		<scope>provided</scope>
	</dependency>
	
	<dependency>
			<groupId>org.antlr</groupId>
			<artifactId>antlr</artifactId>
			<version>3.1.3</version>
		</dependency>
		<dependency>
			<groupId>org.antlr</groupId>
			<artifactId>antlr-runtime</artifactId>
			<version>3.1.3</version>
		</dependency>
		<dependency>
			<groupId>com.hp.hpl.jena</groupId>
			<artifactId>jena</artifactId>
			<version>2.5.5</version>
		</dependency>
		<dependency>
			<groupId>com.hp.hpl.jena</groupId>
			<artifactId>iri</artifactId>
			<version>0.8</version>
		</dependency>
		<dependency>
			<groupId>com.hp.hpl.jena</groupId>
			<artifactId>arq</artifactId>
			<version>2.2</version>
		</dependency>
		<dependency>
			<groupId>com.ibm.icu</groupId>
			<artifactId>icu4j</artifactId>
			<version>3.4.4</version>
		</dependency>
		<dependency>
			<groupId>xerces</groupId>
			<artifactId>xercesImpl</artifactId>
			<version>2.7.1</version>
		</dependency>
	
	<dependency>
        <groupId>org.apache.derby</groupId>
        <artifactId>derby</artifactId>
        <version>10.6.1.0</version>
	</dependency>
	
	
	 <dependency>
		<groupId>inf.unibz.it.obda</groupId>
		<artifactId>reformulation-core</artifactId>
		<version>1.0.3-SNAPSHOT</version>
	</dependency>
	
	<!-- Protege 4 and OWLAPI bundle dependencies -->
		<dependency>
			<groupId>org.eclipse.equinox</groupId>
			<artifactId>osgi</artifactId>
			<version>3.1.1</version>
			<scope>provided</scope>
		</dependency>

		<!-- Eclipse dependencies -->
		<dependency>
			<groupId>org.eclipse.equinox</groupId>
			<artifactId>common</artifactId>
			<version>3.3.0-v20070426</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.eclipse.equinox</groupId>
			<artifactId>registry</artifactId>
			<version>3.3.0-v20070522</version>
			<scope>provided</scope>
		</dependency>

		<!-- Protege 4 and OWLAPI bundle dependencies -->
		<dependency>
			<groupId>org.protege</groupId>
			<artifactId>org.protege.common</artifactId>
			<version>4.0.2-031220091250</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.protege</groupId>
			<artifactId>org.protege.editor.core.application</artifactId>
			<version>4.0.2-031220091250</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.protege</groupId>
			<artifactId>org.protege.editor.owl</artifactId>
			<version>4.0.2-031220091250</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.semanticweb</groupId>
			<artifactId>org.semanticweb.owl.owlapi</artifactId>
			<version>4.0.2-031220091250</version>
			<scope>provided</scope>
		</dependency>  
    	

		
	
  </dependencies>
  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
  
    <build>
		<plugins>
			<plugin>
				<artifactId>maven-compiler-plugin</artifactId>
				<configuration>
					<source>1.6</source>
					<target>1.6</target>
				</configuration>
			</plugin>
		
		
			<plugin>    
					<!-- This is the main plugin to build the bundle. Informattion about this plugin
					can be found here: http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html
					Note the inline comments-->
					
					<groupId>org.apache.felix</groupId>
					<artifactId>maven-bundle-plugin</artifactId>
					<extensions>true</extensions>
					<configuration>
						<!-- The follwing is the set of instructions of how pack the bundle and how to 
						create the MANIFEST.MF for the bundle. The configuration does 4 things. 
						
						1. It makes sure that the "tight" dependencies are not packed as jars, but as .class files (inline).
						It makes sure that all the runtime dependencies are packed as jars.
						2. It makes sure all the protege plugin resources are packed (plugin.xml, tabs*.xml, etc). 
						3. It makes	sure the META-INF/MANIFEST.MF for OSGi bundles is created with the correct imports,
						exports and classpath.
						
						 -->
						<instructions>
							<Build-Jdk>1.6</Build-Jdk>
							
							<!-- This makes sure any dependency in the obdalib <dependency> dependencies are packed
							as .classes (uncompressed, no jars) and the rest is packed as .jars -->
							
							<!-- Use this for inline quonto projects <Embed-Dependency>*;groupId=it.uniroma1.dis;inline=true,*;groupId=*;scope=compile|runtime</Embed-Dependency> -->
							<Embed-Dependency>*;groupId=*;scope=compile|runtime</Embed-Dependency>
							
							<!-- necessary for protege 4 plugins -->
							<Bundle-Category>protege</Bundle-Category>
							
							<!--  general information -->
							<Bundle-ContactAddress>magerstgrasser@inf.unibz.it</Bundle-ContactAddress>
							<Bundle-DocURL>http://obda.inf.unibz.it</Bundle-DocURL>
							<Bundle-Description>OBDAOWLReformulationPlatform
								for Protege 4</Bundle-Description>
							<Bundle-Vendor>Free University of Bozen Bolzano</Bundle-Vendor>
							
							<!-- Required. Remember to use the proper version for dependencies -->
							<Bundle-Version>1.0.0</Bundle-Version>
							<Eclipse-LazyStart>false</Eclipse-LazyStart>
							
							<!-- The name of the plugin for OSGi dependencies. It has to be singleton or protege wont load it -->
							<Bundle-SymbolicName>org.obda.reformulation.protege4.plugin;singleton:=true</Bundle-SymbolicName>
							
							<!-- This makes sure ONLY the necessary dependencies are imported. If this is not supplied, maven-bundle-plugin
							will attempt to import ALL classes in the dependencies (even transitive ones) This will lead to class not
							found exceptions. It's very important to assure only the needed depdencies are imported.  
							 -->
							 
							<Import-Package>org.obda.*,inf.unibz.it.*,org.apache.commons.logging.*,org.atlr.*,org.protege.*,org.coode.*,org.semanticweb.*,uk.manchester.*,!*, org.apache.derby.*</Import-Package>
							
							<!-- This makes sure all OBDA classes are exported and available in dependent projects -->
							<Export-Package>org.obda.*</Export-Package>
							
						</instructions>
					</configuration>
				</plugin>
				
				<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-deploy-plugin</artifactId>
				<version>2.5</version>
				<configuration>
					<skip>false</skip>
				</configuration>
				</plugin>
			</plugins>
		
	</build>
  
</project>


